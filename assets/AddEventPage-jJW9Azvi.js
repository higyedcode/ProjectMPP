import{r as t,u as d,E as v,O as m,H as x,j as e,L as c,B as f,b as h}from"./index-CFRkiK0b.js";import{E as p}from"./EventForm-BEu1hSbI.js";function E(l,n,a,s){if(!n.current.value||!a.current.value||!s.current.value)throw new Error("Empty fields detected!");const o=n.current.value,i=a.current.value,r=s.current.value;return{eventName:o,eventDate:i,eventLocation:r,hostId:0}}function k(){document.title="Add Event";const l=t.useRef(null),n=t.useRef(null),a=t.useRef(null),s=t.useRef(null),o=d();if(t.useContext(v),t.useContext(m),t.useContext(x),localStorage.getItem("token")===null)return e.jsx(c,{entity:"Events",children:e.jsx("div",{className:"main-page-container",children:e.jsx("h1",{children:" Please log in to view events "})})});const i=()=>{try{let g={Authorization:`Bearer ${localStorage.getItem("token")}`};const u=E(l,n,a,s);console.log(u),h(u).then(()=>o("/events")),o("/events")}catch(r){alert(r)}};return e.jsx(c,{entity:"Events",children:e.jsxs("div",{className:"main-page-container","data-testid":"main-page-container",children:[e.jsx("div",{className:"main-title",children:"Add event"}),e.jsx(p,{idInput:l,nameInput:n,dateInput:a,locationInput:s,"data-testid":"event-form"}),e.jsx(f,{type:"submit",buttonMessage:"Add event",className:"form-button",onclick:i})]})})}export{k as default};
